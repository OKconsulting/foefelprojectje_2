<html class="ui-mobile">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Time.e-ok</title>
    <link rel="stylesheet" href="./themes/reset.css" />
    <link rel="stylesheet" href="./themes/tijdsregistratie.css" />
    <link rel="stylesheet" href="./themes/style.css" />
    <link rel="stylesheet" href="./themes/jquery.mobile.icons.min.css" />
    <link rel="stylesheet" href="./themes/jquery.mobile.structure-1.4.2.min.css" />
    <link rel="stylesheet" href="./themes/jquery.mobile.datepicker.css" />
    <script src="./scripts/jquery-1.10.2.min.js"></script>
    <script src="./scripts/jquery.mobile-1.4.2.min.js"></script>
    <script src="./scripts/jquery.mobile.datepicker.js"></script>
</head>

<body class="ui-mobile-viewport ui-overlay-c" id="containerPagina">

    <div data-role="page" id="home" data-theme="b">
        <div data-role="header" class="header" data-position="fixed">
            <div class="left"><a href="#home_panel"><img src="images/menu.png" /></a></div>
            <div class="right"><a href="#selecteerPeriode" data-role="none" data-rel="popup" data-position-to="window" onclick="loadAll();"><img src="images/herladen.png" /></a></div>
            <div class="center"><h1><a href="#home">Time.e-ok</a></h1></div>
        </div>

        <div data-role="content" class="ui-content" role="main">
            <div class="melding">
            </div>
            <a href="#popupKeuze" id="popupKeuzeKlik" data-role="none" data-rel="popup" data-position-to="window" style="display:none;">test</a>
            <div data-role="popup" id="popupKeuze" class="ui-content" data-theme="a">
                <div id="optieWerkend">
                    <form>
                        <p>Gelieve te bevestigen dat u doorgewerkt hebt deze nacht.</p>
                        <a data-rel="back">
                            <input type="button" value="Ik heb doorgewerkt" class="knop stop" onclick="post('STOP', 'stopWerkend')" />
                        </a>
                        <textarea class="commentaar" placeholder="Heeft u een melding?"></textarea>
                    </form>
                </div>
                <div id="optieVergeten">
                    <form>
                        <p></p>
                        <input type="text" class="tijd2 textbox-small" id="vergetenKeuze" data-role="none" /><br />
                        <a data-rel="back">
                            <input type="button" value="Stop op ingevulde uur" class="knop stop" onclick="post('STOP', 'stopVergetenKeuze')" />
                        </a>
                        <textarea class="commentaar" placeholder="Heeft u een melding?"></textarea>
                    </form>
                </div>
            </div>

            <div class="time">
                <div class="containerTime">
                    <div id="containerStart">
                        <form>
                            <input type="button" value="Start" class="knop start" onclick="post('START', 'start')" />
                            <textarea class="commentaar" placeholder="Heeft u een melding?"></textarea>
                        </form>
                    </div>

                    <div id="containerStop">
                        <form>
                            <p>U heeft vandaag al gewerkt voor</p>
                            <p id="tijdAanHetWerk">00:00:00</p>
                            <div id="progressbar"><div id='progressbarLabel'>00:00:00</div></div>
                            <input type="button" value="Stop" class="knop stop" onclick="post('STOP', 'stop')" />
                            <textarea class="commentaar" placeholder="Heeft u een melding?"></textarea>
                        </form>
                    </div>

                    <div id="containerKeuze">
                        <form>
                            <p></p>
                            <input type="button" value="Ik ben het vergeten" class="knop stop" onclick="popup('stopVergeten')" />
                            <input type="button" value="Ik heb doorgewerekt" class="knop stop" onclick="popup('stopWerkend')" />
                        </form>
                    </div>

                    <div id="containerVergeten">
                        <form>
                            <p></p>
                            <input type="text" id="vergeten" class="vergeten tijd2 textbox-small" /><br />
                            <input type="submit" value="Vergeten" class="knop stop" onclick="post('STOP', 'stopVergeten')" />
                            <textarea class="commentaar" placeholder="Heeft u een melding?"></textarea>
                        </form>
                    </div>
                </div>
            </div>
        </div>


        <div data-role="panel" id="home_panel" data-position="left" data-display="reveal" data-theme="b" class="ui-panel ui-panel-position-left ui-panel-display-reveal ui-body-b ui-panel-animate ui-panel-open">
            <div class="ui-panel-inner">
                <a href="#home" data-transition="none" data-rel="close" class='home_hide_panel' style='display:none;'></a>
                <ul class="menu">
                    <li><a href="#home" data-rel="close" data-transition="none"><img src="images/home.png" /><span>Home</span><div class="clear-fix"></div></a></li>
                    <li><a href="#statistieken" data-rel="close" data-transition="none"><img src="images/statistieken.png" /><span>Statistieken</span><div class="clear-fix"></div></a></li>
                    <li><a onclick="logout()"><img src="images/logout.png" /><span>Logout</span><div class="clear-fix"></div></a></li>
                </ul>
            </div>
        </div>
    </div>

    <div data-role="page" id="statistieken" data-theme="b">
        <div data-role="header" class="header" data-position="fixed">
            <div class="left"><a href="#statistieken_panel" data-transition="none"><img src="images/menu.png" /></a></div>
            <div class="right"><a href="#selecteerPeriode" data-role="none" data-rel="popup" data-position-to="window"><img src="images/kalender.png" /></a></div>
            <div class="center"><h1><a href="#home">Time.e-ok</a></h1></div>
        </div>

        <div data-role="popup" id="selecteerPeriode" class="ui-content" data-theme="a">
            <div style="text-align:center;">Selecteer van welke maand je de statistieken wilt opvragen.</div>
            <input type="text" id="date-input" data-inline="true" data-role="date" style="display:none;">
            <a data-rel="back" class="ui-btn" onclick="loadStatistieken();">Bevestig</a>
        </div>

        <div data-role="content" class="ui-content" role="main">
            <div class="melding">
            </div>
            <table class="tabel_uren" id="tabelStatistieken">
                <tbody>
                    <tr>
                        <th>
                            Datum
                        </th>
                        <th>
                            Te doen
                        </th>
                        <th>
                            Gedaan
                        </th>
                    </tr>
                </tbody>
                <tbody></tbody>
            </table>
        </div>

        <div data-role="panel" id="statistieken_panel" data-position="left" data-display="reveal" data-theme="b" class="ui-panel ui-panel-position-left ui-panel-display-reveal ui-body-b ui-panel-animate ui-panel-open">
            <div class="ui-panel-inner">
                <a href="#home" data-transition="none" data-rel="close" class='statistieken_hide_panel' style='display:none;'></a>
                <ul class="menu">
                    <li><a href="#home" data-rel="close" data-transition="none"><img src="images/home.png" /><span>Home</span><div class="clear-fix"></div></a></li>
                    <li><a href="#statistieken" data-rel="close" data-transition="none"><img src="images/statistieken.png" /><span>Statistieken</span><div class="clear-fix"></div></a></li>
                    <li><a onclick="logout()"><img src="images/logout.png" /><span>Logout</span><div class="clear-fix"></div></a></li>
                </ul>
            </div>
        </div>
    </div>
    <script src="scripts/database-connection.js"></script>
    <script src="scripts/jquery-ui-1.10.4.custom.js"></script>
    <script src="scripts/moment.js"></script>
    <script src="scripts/jquery.inputmask.js"></script>
    <script src="scripts/tijd.js"></script>
    <script src="scripts/statistieken.js"></script>
    <script src="cordova.js"></script>
    <script charset="UTF-8">
        var mdwID = window.localStorage.getItem("mdwID");
        //home
        var tijdLogs;
        var vandaag;
        var latitudeLongitude = "", commentaar = "", opmerking = "", opmerkingLocatie = "", opmerkingHR = "", nacht = false;
        var tijdAanHetWerk = moment(0);
        moment.lang('nl');

        $('.tijd2').inputmask('99u99');

        //statistieken
        var tijdPerDag;
        var table = document.getElementById("tabelStatistieken");
        var rijNummer = 1;
        var vandaag = moment();

        $(document).ready(function () {
            loadAll();
        });

        document.addEventListener("deviceready", function () {
            var body = document.getElementsByTagName('body')[0];
            body.style.minHeight = window.innerHeight + 'px';
        }, false);

        function melding(bericht) {
            $('.melding').text(bericht);
            $('.melding').fadeIn();
            setTimeout(function () { $('.melding').fadeOut(); }, 3000);
        }

        function loadAll() {
            loadData();
            loadStatistieken();
        }

        function logout() {
            window.localStorage.removeItem("mdwID");
            window.location.href = "./index.html#login";
        }
    </script>
</body>

</html>
