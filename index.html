<html class="ui-mobile">
<head>
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />

    <link href="themes/Style.css" rel="stylesheet" />
    <title>Time.e-ok</title>
    <!--<link rel="stylesheet" type="text/css" href="themes/reset.css" />
    <!--<link href="themes/jquery.mobile-1.4.5.min.css" type="text/css" rel="stylesheet" />-->
    <!--<link rel="stylesheet" type="text/css" href="themes/stijl.css" />
    <link rel="stylesheet" type="text/css" href="themes/tijdsregistratie.css" />-->
    <!--<link rel="stylesheet" href="themes/jquery.mobile.icons.min.css" />
    <link rel="stylesheet" href="themes/jquery.mobile.structure-1.4.2.min.css" />-->
    <!--<script src="scripts/jquery-1.11.2.min.js"></script>
    <script src="scripts/jquery.mobile-1.4.5.min.js"></script>-->
</head>
<body class="ui-mobile-viewport ui-overlay-c">

    <div data-role="page" id="login" data-theme="a">
        <div data-role="content" class="ui-content" role="main">
            <div class="melding">
            </div>
            <div id="containerLogin">
                <input type="email" id="loginInput" placeholder="Login" />
                <input type="password" id="paswoordInput" placeholder="Paswoord" />
                <input type="button" id="inloggen" value="Inloggen" data-role="button" />
            </div>
            <div id="containerLoading">
                <img src="images/gif-load.gif" />
            </div>
        </div>
        <div data-role="footer" data-position="fixed">
            <img src="images/logo-okc.png" />
        </div>
    </div>
    
    <script src="scripts/database-connection.js"></script>
    <script src="cordova.js"></script>
    <!--<script>
        var timeout;
        $(document).ready(function () {
            var mdwID = window.localStorage.getItem("mdwID");

            if (mdwID != null) {
                window.localStorage.setItem("mdwID", mdwID);
                window.location.href = "./home.html#home";
            }

        });

        $("#inloggen").on('click', function () {
            $('#containerLogin').css('display', 'none');
            $('#containerLoading').css('display', 'block');
            login();
        });

        $('#loginInput, #paswoordInput').focus(function () {
            $('[data-role=footer]').css("display", "none");
        });

        function melding(bericht) {
            $('.melding').text(bericht);
            $('.melding').fadeIn();
            window.clearTimeout(timeout);
            timeout = setTimeout(function () { $('.melding').fadeOut(); }, 3000);
        }

        function login() {
            console.log('login');
            var user = { UserName: $("#loginInput").val(), Paswoord: $("#paswoordInput").val(), MedewerkerID: 0, Role: "" };

            $.ajax({
                url: url + 'api/user/login',
                type: 'POST',
                async: false,
                contentType: 'application/json',
                data: JSON.stringify(user),
                success: function (data) {
                    window.localStorage.setItem("mdwID", data.MedewerkerID);
                    window.location.href = "./home.html#home";
                },
                error: function (e) {
                    $('#containerLogin').css('display', 'block');
                    $('#containerLoading').css('display', 'none');
                    if (e.responseJSON == "login") {
                        melding("Deze login heeft geen toegang tot de applicatie.");
                    } else if (e.responseJSON == "wachtwoord") {
                        melding("U heeft een verkeerd wachtwoord ingevoerd.");
                    } else {
                        melding("U heeft geen internet connectie.");
                    }
                },
                dataType: 'json',
                contentType: "application/json"
            });
        }
    </script>-->
</body>
</html>
